<script>
  const peer = new Peer();
  const video = document.getElementById("screen");

  document.getElementById("connect").onclick = () => {
    const id = document.getElementById("code").value.trim();
    if (!id) return alert("Enter a code");

    const call = peer.call(id, new MediaStream());

    call.on("stream", stream => {
      video.srcObject = stream;
      video.play();
    });

    call.on("error", err => {
      console.error(err);
      alert("Connection failed");
    });
  };
</script>
